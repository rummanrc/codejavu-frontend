<app-navbar></app-navbar>
<app-snippet-show-dialog
  [modalActive]="isModalActive"
  [snippet]="snippet"
  (modalDeactivateEvent)="closeSnippetModal()"
  (editCodeSnippetEvent)="showAddEditCodeSnippet(snippet)"
>
</app-snippet-show-dialog>
<app-snippet-create-edit-dialog
  [modalActive]="isModalCreateEditActive"
  [snippet]="snippet"
  [languages]="languages"
  [tags]="tags"
  (modalDeactivateEvent)="closeSnippetCreateEditModal()"
>
</app-snippet-create-edit-dialog>
<div class="pt-2">
  <!-- Top Bar -->
  <div class="level">
    <!-- Left side -->
    <div class="level-left">
      <div class="level-item">
        <div class="field has-addons">
          <p class="has-icons-left control">
            <input class="input" type="text" placeholder="Find a snippet" (input)="onSearchChange($event)">
            <span class="icon is-small is-left">
              <i class="fa-solid fa-magnifying-glass"></i>
            </span>
          </p>
          <p class="control">
            <button class="button">
              Search
            </button>
          </p>
        </div>
        <div class="level-item">
          <span class="pl-5">
            <span class="pr-2">
               <input type="checkbox">
            </span>
            <div class="dropdown pb-3">
              <div class="dropdown-trigger">
                <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                  <span>Filter</span>
                  <span class="icon is-small">
                    <i class="fa-solid fa-filter" aria-hidden="true"></i>
                  </span>
                </button>
              </div>
              <div class="dropdown-menu" id="dropdown-menu" role="menu">
                <div class="dropdown-content">
                  <div class="dropdown-item">
                    <input class="input is-primary" type="text" placeholder="Language">
                  </div>
                  <hr class="dropdown-divider">
                  <span class="dropdown-item">
                    <label class="checkbox">
                      <input type="checkbox">
                      All
                    </label>
                  </span>
                  <hr class="dropdown-divider">
                  <span class="dropdown-item">
                    Language name
                  </span>
                </div>
              </div>
            </div>
          </span>
        </div>
        <div class="level-item">
          <span class="pb-3">
            <button class="button is-danger">Reset</button>
          </span>
        </div>
      </div>
    </div>
    <!-- Right side -->
    <div class="level-right">
      <p class="level-item"><a class="button is-success" (click)="showAddEditCodeSnippet()">Create Snippet</a></p>
    </div>
  </div>
  <!-- Snippets List -->
  <table class="table is-narrow is-hoverable is-fullwidth pt-2">
    <thead>
    <tr>
      <th>Title</th>
      <th>Language</th>
      <th></th>
      <th>Date</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let snippet of snippets">
      <td class="is-clickable" (click)="showCodeSnippet(snippet.id)">{{snippet.title}}</td>
      <td>{{snippet.language}}</td>
      <td><i class="fa-solid fa-file-export"></i></td>
      <td>{{snippet.date}}</td>
    </tr>
    </tbody>
  </table>
</div>
